let TeyutoPlayerCurrentTimeValue=0,TeyutoPlayerCurrentVolumeValue=0;function TeyutoPlayerSdk(e,t){console.log("INIT Teyuto Player SDK");let o=document.querySelector(""+e),n=t.options,i=t.id,l="",r=(Math.random()+1).toString(36).substring(7);n.height||(n.height=315),n.width||(n.width=560),n.autoplay||(n.autoplay="on"),n.muted||(n.muted="off"),n.controls||(n.controls="on"),n.playbackRates||(n.playbackRates="on"),n.qualitySelector||(n.qualitySelector="on"),n.playerColor||(n.playerColor="on"),n.loop||(n.loop="off"),n.captions||(n.captions="on"),n.pip||(n.pip="off");let a="https://teyuto.tv/video/player?w="+i+"&auto="+n.autoplay+"&muted="+n.muted+"&controls="+n.controls+"&playbackRates="+n.playbackRates+"&qualitySelector="+n.qualitySelector+"&playerColor="+n.playerColor+"&loop="+n.loop+"&captions="+n.captions;l="on"!=n.responsive?'<iframe id="iframePlayerTeyuto-'+r+'" width="'+n.width+'" height="'+n.height+'" src="'+a+'" frameborder="0" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true" scrolling="no"></iframe>':'<div style="position: relative;padding-bottom: 56.25%;height: 0; overflow: hidden;"><iframe id="iframePlayerTeyuto-'+r+'" style="position: absolute;top: 0;left: 0;width: 100%;height: 100%;" src="'+a+'" frameborder="0" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true" scrolling="no"> </iframe></div>',o.innerHTML=o.innerHTML+l;var u=document.getElementById("iframePlayerTeyuto-"+r),s=setInterval(function(){try{u.contentWindow.postMessage({function:"getCurrentTime"},"*"),u.contentWindow.postMessage({function:"getVolume"},"*")}catch(e){clearInterval(s)}},1e3);this.play=function(e){u.contentWindow.postMessage({function:"play"},"*")},this.pause=function(e){u.contentWindow.postMessage({function:"pause"},"*")},this.getCurrentTime=function(){return TeyutoPlayerCurrentTimeValue},this.setCurrentTime=function(e){u.contentWindow.postMessage({function:"setCurrentTime",param:e},"*")},this.mute=function(e){u.contentWindow.postMessage({function:"mute"},"*")},this.unmute=function(e){u.contentWindow.postMessage({function:"unmute"},"*")},this.setVolume=function(e){u.contentWindow.postMessage({function:"setVolume",param:e},"*")},this.getVolume=function(e){return TeyutoPlayerCurrentVolumeValue},this.on=function(...e){o.addEventListener(...e)},window.addEventListener("message",({data:e})=>{try{let t=JSON.parse(e);"currentTime"==t.type?TeyutoPlayerCurrentTimeValue=t.value:"volume"==t.type?TeyutoPlayerCurrentVolumeValue=t.value:o.dispatchEvent(new CustomEvent(t.type,{detail:{idVideo:t.idVideo,data:t.data}}))}catch(n){}})}
